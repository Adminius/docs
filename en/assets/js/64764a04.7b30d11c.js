"use strict";(self.webpackChunkevcc_docs=self.webpackChunkevcc_docs||[]).push([[3581],{4471:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var r=t(7462),i=(t(7294),t(3905));t(8209);const o={sidebar_position:17},a="modbusproxy",s={unversionedId:"reference/configuration/modbusproxy",id:"reference/configuration/modbusproxy",title:"modbusproxy",description:"modbusproxy ist eine Liste von Ger\xe4ten welche f\xfcr Drittsysteme via Modbus TCP im Netzwerk freigeben werden.",source:"@site/docs/reference/configuration/modbusproxy.md",sourceDirName:"reference/configuration",slug:"/reference/configuration/modbusproxy",permalink:"/en/docs/reference/configuration/modbusproxy",draft:!1,editUrl:"https://github.com/evcc-io/docs/tree/main/docs/reference/configuration/modbusproxy.md",tags:[],version:"current",sidebarPosition:17,frontMatter:{sidebar_position:17},sidebar:"tutorialSidebar",previous:{title:"telemetry",permalink:"/en/docs/reference/configuration/telemetry"},next:{title:"Plugins",permalink:"/en/docs/reference/plugins"}},l={},d=[{value:"Erforderliche Parameter",id:"erforderliche-parameter",level:2},{value:"<code>port</code>",id:"port",level:3},{value:"Optionale Parameter",id:"optionale-parameter",level:2},{value:"<code>rtu</code>",id:"rtu",level:3},{value:"<code>readonly</code>",id:"readonly",level:3}],u={toc:d},p="wrapper";function m(e){let{components:n,...t}=e;return(0,i.kt)(p,(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"modbusproxy"},(0,i.kt)("inlineCode",{parentName:"h1"},"modbusproxy")),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"modbusproxy")," ist eine Liste von Ger\xe4ten welche f\xfcr Drittsysteme via Modbus TCP im Netzwerk freigeben werden."),(0,i.kt)("p",null,"Einige Ger\xe4te lassen nur eine sehr beschr\xe4nkte Anzahl an Modbus TCP Clients zu. Im ung\xfcnstigsten Fall nur genau eine einzige Verbindung wie z.B. bei SolarEdge-Komponenten. Aber auch bei seriellen Modbus RTU RS485-Bussystemen ist ohnehin immer nur ein Master erlaubt.\nMit Hilfe von ",(0,i.kt)("inlineCode",{parentName:"p"},"modbusproxy")," ist es m\xf6glich, evcc zus\xe4tzlich als Modbus-Proxy einzurichten welcher die bestehenden Modbus-Verbindungen mit weiteren Systemen teilen kann.\nDamit kommuniziert evcc direkt mit dem Ger\xe4t, weitere Systeme aber stattdessen mit evcc, welches die Kommunikationverbindungen b\xfcndelt und stellvertretend an das Zielger\xe4t weiterreicht."),(0,i.kt)("p",null,"Die ",(0,i.kt)("inlineCode",{parentName:"p"},"modbusproxy")," Konfiguration ist eine Liste von verschiedenen Proxy-Freigaben."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Beispiel"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},'modbusproxy:\n  - port: 5021\n    uri: 192.0.2.2:502\n  - port: 5022\n    device: /dev/ttyUSB0\n    baudrate: 9600\n    comset: "8N1"\n  - port: 5023\n    uri: 192.0.2.3:502\n    rtu: true\n')),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Die Proxy-Funktion unterst\xfctzt ",(0,i.kt)("em",{parentName:"p"},"eingehend")," (d.h. von Drittsystemen wie z.B. Hausautomation, Logger) ausschlie\xdflich Modbus TCP."),(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("em",{parentName:"p"},"Ausgehend")," in Richtung des abzufragenden Ger\xe4tes (z. B. Wechselrichter, Energiez\xe4hler) wird das Protokoll ggf. entsprechend der Zielger\xe4tekonfiguration \xfcbersetzt.")),(0,i.kt)("admonition",{title:"Sponsortoken erforderlich",type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Weitere Informationen zum evcc Sponsorship gibt es hier: ",(0,i.kt)("a",{parentName:"p",href:"https://docs.evcc.io/docs/sponsorship"},"https://docs.evcc.io/docs/sponsorship"))),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"erforderliche-parameter"},"Erforderliche Parameter"),(0,i.kt)("h3",{id:"port"},(0,i.kt)("inlineCode",{parentName:"h3"},"port")),(0,i.kt)("p",null,"Der lokale TCP/IP-Port unter dem eine Verbindung als Proxyserver bereitstellt wird und eingehende Modbus TCP Verbindungen von Drittsystemen angenommen werden."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Beispiel"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"port: 5021\n")),(0,i.kt)("h2",{id:"optionale-parameter"},"Optionale Parameter"),(0,i.kt)("h3",{id:"rtu"},(0,i.kt)("inlineCode",{parentName:"h3"},"rtu")),(0,i.kt)("p",null,"Zu Netzwerkzielen wird \xfcblicherweise mit Modbus TCP kommuniziert.\nBei Bedarf kann mit der Angabe von ",(0,i.kt)("inlineCode",{parentName:"p"},"rtu: true")," auf Modbus RTU over TCP statt Modbus TCP umgeschaltet werden.\nEin typischer Anwendungsfall daf\xfcr sind einfache, transparente RS485-TCP-Konverter (ohne Protokoll\xfcbersetzung).\nMuss mit der Ger\xe4tekonfiguration \xfcbereinstimmen. Wird bei seriellen Zielsystemen ignoriert."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Beispiel"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"rtu: true\n")),(0,i.kt)("h3",{id:"readonly"},(0,i.kt)("inlineCode",{parentName:"h3"},"readonly")),(0,i.kt)("p",null,"Durch ",(0,i.kt)("inlineCode",{parentName:"p"},"readonly: true")," lassen sich Modbus-Schreibzugriffe durch Drittsysteme pauschal unterbinden."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Beispiel"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"readonly: true\n")))}m.isMDXComponent=!0}}]);